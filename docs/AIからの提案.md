# AIからの提案: Gocha Rumble 3D

ユーザー様のリクエスト（ゴチャキャラ・放置・ハクスラ・PvP）を実現するための、技術的・ゲームデザイン的な提案をまとめました。

## 1. コア技術: 「数千体を動かす」ために
ブラウザ上で数千体の3Dキャラクターを快適に動かすため、以下の技術選定を提案します。

- **Three.js + InstancedMesh**:
  - 通常の3Dモデル（SkinnedMesh）を数千体動かすとPCでも重くなります。
  - 今回は **InstancedMesh（インスタンス化メッシュ）** という技術を使い、1回の描画命令で大量のキャラを描画します。
  - **制約**: 複雑な骨格アニメーション（手足を曲げる等）は難しいです。
  - **解決策**: 跳ねる、伸縮する、回転する、といった「物理的な挙動」でかわいさを表現します。

## 2. ゲームデザイン案

### キャラクタービジュアル
- **「ミニマル × カワイイ」**:
  - カプセル型やスライム型のような単純な形状。
  - 色使い（パステルカラー等）や、小さな「目」のテクスチャでキャラクター性を出します。
  - 装備品も「頭に箱を乗せる」「剣を浮遊させる」など、ボーン変形が不要な形で実装します。

### バトルシステム: 「わちゃわちゃ物理バトル」
- 敵味方が入り乱れる「押し合い」を物理計算（シンプルな半径チェック）で行います。
- 攻撃はオート。範囲内に敵がいればポコポコ殴る。
- 画面を埋め尽くすダメージ数字（ポップアップ）で、ハクスラ特有の「強くなってる感」を演出します。

### 非同期PvP (ゴーストバトル)
- リアルタイム通信の対戦は実装難易度が高く、放置ゲームとの相性も悪いです。
- 代わりに **「非同期PvP」** を提案します。
  1. プレイヤーが「防衛チーム」を登録（サーバーにデータを保存）。
  2. 他のプレイヤーは、そのデータをダウンロードして自分のPC上で対戦を行う。
  3. これなら「サーバー負荷」も低く、いつでも誰とでも戦えます。

## 3. インフラ・バックエンド
- **Google認証 & データベース**: **Firebase** を使用。
  - 認証機能の実装コストがほぼゼロになります。
  - Firestore（データベース）は、JSONデータをそのまま保存できるため、キャラのパラメータ保存に最適です。

## 4. 開発ロードマップ案
1. **フェーズ1: 描画実験** (InstancedMeshで1000体表示テスト)
2. **フェーズ2: ゲームループ** (移動、攻撃、HPの減少)
3. **フェーズ3: ゲームサイクル** (リザルト、パラメータ強化UI)
4. **フェーズ4: オンライン要素** (Firebase連携、ランキング)
