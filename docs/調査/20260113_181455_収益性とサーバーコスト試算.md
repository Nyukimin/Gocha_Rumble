# 収益性とサーバーコストの試算レポート：赤字回避の防衛ライン

**作成日**: 2026-01-13
**対象**: Gocha Rumble 3D (Firebase + AdSense)

---

## 1. 前提となる単価設定

### 1.1 収入（Google AdSense）
放置ゲームかつPCブラウザメインの場合、以下の数値が標準的な目安となる。

*   **RPM (1000表示あたりの収益)**: 50円 〜 150円
    *   ※PCのサイドバー常時表示（スカイスクレイパー）は視認性が高く、単価は高めに出やすい。
    *   ※ここでは**保守的に「1PV（ページビュー）あたり0.1円」**（RPM 100円）で計算する。
*   **1ユーザーあたりのPV数**:
    *   ロビー → バトル → リザルトの1サイクルを「3PV」と仮定。
    *   1日5サイクル遊ぶヘビーユーザーなら15円相当。

### 1.2 支出（Firebase Blazeプラン）
Firebase Hosting（静的配信）はほぼ無料枠で収まるため、**Firestore（データベース）の読み書きコスト**が支配的になる。

*   **書き込み (Write)**: $0.18 / 10万件（約27円 / 10万回）
    *   **1回あたり: 0.00027円**
*   **読み取り (Read)**: $0.06 / 10万件（約9円 / 10万回）
    *   **1回あたり: 0.00009円**
*   **削除 (Delete)**: $0.02 / 10万件（無視できるレベル）

※レートは$1=150円換算

---

## 2. 損益分岐シミュレーション

「1ユーザーが1日遊んだ場合」の収支を計算する。

### シナリオA：最適化された設計（推奨）
*   **セーブ頻度**: 章クリア時、撤退時、ロビーでの編成変更時のみ（1プレイ平均5回書き込み）。
*   **読み込み**: 起動時に全データ取得、ランキングはトップ100のみ取得（1プレイ平均20回読み込み）。

| 項目 | 回数/日 | 単価 | 日次コスト |
| :--- | :--- | :--- | :--- |
| **書き込み** | 50回 | 0.00027円 | 0.0135円 |
| **読み取り** | 200回 | 0.00009円 | 0.0180円 |
| **サーバー合計** | - | - | **約 0.03円** |
| **広告収入** | 15PV | 0.1円 | **1.50円** |
| **利益** | - | - | **+1.47円（黒字）** |

**結論A**: **余裕で黒字。** サーバーコストは売上の2%程度に収まる。

### シナリオB：設計ミス（デス・スパイラル）
*   **セーブ頻度**: 「オートセーブ」と称して10秒ごとに書き込み。
*   **読み込み**: 「ゴーストバトル」のために、毎回ランダムに100人のデータを読み込む。

| 項目 | 回数/日 | 単価 | 日次コスト |
| :--- | :--- | :--- | :--- |
| **書き込み** | 360回 | 0.00027円 | 0.097円 |
| **読み取り** | 2000回 | 0.00009円 | 0.180円 |
| **サーバー合計** | - | - | **約 0.28円** |
| **広告収入** | 15PV | 0.1円 | **1.50円** |
| **利益** | - | - | **+1.22円（まだ黒字）** |

**結論B**: 実はこれでも黒字だが、AdBlockユーザー率が高まると危険水域に近づく。また、**Firebaseの無料枠（1日：書き込み2万、読み取り5万）** をすぐに使い切ってしまう。

---

## 3. ユーザー規模別の収支予測

Firebaseには強力な**無料枠（Sparkプラン）**があるため、小規模なうちはコスト0円である。

*   **無料枠**:
    *   書き込み: 20,000回 / 日
    *   読み取り: 50,000回 / 日

### フェーズ1：リリース直後（DAU 100人）
*   **総書き込み**: 100人 × 50回 = 5,000回（無料枠内）
*   **総読み取り**: 100人 × 200回 = 20,000回（無料枠内）
*   **サーバー費**: **0円**
*   **広告収入**: 100人 × 1.5円 = 150円/日
*   **月間利益**: **約4,500円**

### フェーズ2：プチヒット（DAU 1,000人）
*   **総書き込み**: 50,000回（無料枠超過 30,000回 → **約8円**）
*   **総読み取り**: 200,000回（無料枠超過 150,000回 → **約13.5円**）
*   **サーバー費**: **約21.5円/日**
*   **広告収入**: 1,000人 × 1.5円 = 1,500円/日
*   **月間利益**: **約44,000円**（サーバー費は約650円）

### フェーズ3：バズった（DAU 10,000人）
*   **サーバー費**: 約215円/日
*   **広告収入**: 15,000円/日
*   **月間利益**: **約44万円**（サーバー費は約6,500円）

---

## 4. 「赤字」になる唯一のパターンと対策

AdSenseを入れていれば、基本的にサーバー代で赤字になることはない（Firebaseが安すぎるため）。
しかし、以下のケースだけは**大赤字（クラウド破産）**のリスクがある。

### 危険なパターン：無限ループとDDoS
1.  **無限ループバグ**: クライアント側のバグで、`useEffect` 内でデータを保存し続け、1秒間に100回書き込むような状態。
    *   1時間放置されると36万回書き込み → 1ユーザーで100円の赤字。これが100人に発生したら1万円の損害。
2.  **悪意ある攻撃**: APIキーを使ってデータベースに大量のゴミデータを書き込まれる。

### 鉄壁の防衛策
赤字を絶対に出さないために、以下の設定を必ず行う。

1.  **Firestore セキュリティルール**:
    *   「1分間に○回以上の書き込みを禁止する」といったルールはFirestore単体では難しいが、**「自分のデータしか書き込めない」「書き込むデータのサイズ制限」**は必ず設定する。
2.  **Google Cloud 予算アラート**:
    *   「月の予算 1,000円」を設定し、到達しそうになったらメール通知を受け取る。
3.  **App Checkの導入**:
    *   Firebase App Checkを導入し、正規のゲームアプリ以外からのアクセスを遮断する（Bot攻撃防止）。
4.  **ローカルストレージの活用**:
    *   毎回のプレイデータをサーバーに送らず、基本は `localStorage` に保存。
    *   「ランキング登録」や「バックアップ」のタイミングだけFirestoreを使う仕様にすれば、コストを極限まで（ほぼゼロに）下げられる。

---

## 5. 結論

*   **AdSense常時表示があれば、通常のプレイで赤字になることはまずあり得ない。**
    *   1円稼ぐのに必要なコストは0.02円程度（利益率98%）。
*   **Firebaseの無料枠が優秀すぎる。**
    *   DAU（1日の利用者）が400人くらいまでは、サーバー代はずっと0円。
*   **注意点は「バグ」のみ。**
    *   無限書き込みバグを防ぐコードレビューと、予算アラート設定さえしておけば、枕を高くして眠れる。

### 推奨アクション
まずは **「重要なデータ（ランキング、課金アイテム、同僚機図鑑）のみFirestore、一時的な進行データはLocal Storage」** というハイブリッド構成で実装を進めることを推奨します。これでサーバー代はほぼ掛かりません。

---

## 6. ユーザー体験と広告表示の具体イメージ

プレイヤーがゲームを遊んでいる間、広告はどのように表示され、それが開発者にどう貢献するのかの具体例です。

### 6.1 常時表示広告（基本収益）

*   **いつ？**: ゲーム起動中ずっと。
*   **どこに？**: 
    *   **PC**: ゲーム画面の左右の余白（サイドバー）。ゲームプレイを一切邪魔しません。
    *   **スマホ**: 画面最下部（アンカー広告）。誤操作しないようUIと被らない位置。
*   **ユーザー視点**: 「無料で遊べる代わりに、横に看板が出ているな」という感覚。
*   **開発者視点**: ユーザーがゲーム画面を開いているだけで、チャリンチャリンと少額の収益（1PV 0.1円〜）が積み上がります。
    *   **例**: 1時間放置してくれている間に、広告が自動更新されれば数円の収益になります。

### 6.2 リワード動画広告（オプション）

*   **いつ？**: ユーザーが「ボタンを押した時」だけ。
*   **どんな時に？**:
    *   「ガチャ石が足りないけど、あと1回引きたい！」
    *   「全滅してアイテムを落としそう、失いたくない！」
    *   「放置効率を2倍にブーストしたい！」
*   **ユーザー視点**: 「30秒動画を見るだけで課金アイテムがもらえるならお得」という能動的な選択。
*   **開発者視点**: 1回再生されるだけで、常時表示広告の数時間分（0.5円〜2円程度）の大きな収益になります。

### 6.3 サーバーコストとの対比

*   **あなたが1回バトル（約10分）を遊ぶと...**
    *   **サーバー代**: 約 0.002円 かかります（データの保存など）。
    *   **広告収入**: 約 0.3円 入ります（サイドバー広告など）。
    *   **結果**: **0.298円の黒字** です。

このように、**「普通に遊んでもらうだけで、サーバー代を払ってもお釣りが来る」** 設計になっています。

---

## 7. 広告に対するユーザー心理調査（想定ヒアリング）

### A. ライトゲーマー（カジュアル層）の声

*   **常時バナー（サイドバー）は邪魔？**
    *   「Youtubeとかでも横に広告あるし、ゲーム画面の上に乗っかってこなければ気にならないかな」
    *   「無料ゲームなら当たり前だと思う」
*   **動画広告は見たい？**
    *   「負けそうになった時、動画を見て復活できるなら絶対見る！」
    *   「ガチャが引けるなら喜んで見る。課金より全然いい」
*   **総評**: **「プレイを邪魔されなければOK、メリットがある広告は大歓迎」**

### B. ヘビーゲーマー（コア層）の声

*   **常時バナーは邪魔？**
    *   「ゲームのFPSが落ちたり、誤クリックを誘う配置でなければ許容範囲」
    *   「ただ、全画面広告が急に出てきて操作不能になるのは絶対にNG。即ブラウザバックする」
*   **動画広告は見たい？**
    *   「効率厨なので、30秒で2倍ブーストとかなら計算して『見るのが最適解』なら見る」
    *   「ただし、頻度が高すぎるとテンポが悪くなるので、選択権はこちらに欲しい」
*   **総評**: **「強制されるのは嫌いだが、選択肢として用意されているなら『攻略ツール』として利用する」**
